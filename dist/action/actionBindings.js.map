{"version":3,"sources":["../../src/action/actionBindings.js"],"names":[],"mappings":";;;;;;kBACe;AACX,qBAAiB,wBAAY;AACzB,YAAI,UAAU,KAAK,aAAL,IAAsB,EAApC;;AAEA,YAAI,KAAK,IAAT,EAAe;AACX,uBAAW,YAAY,KAAK,IAA5B;AACH;;AAED,eAAO;AACH,mBAAO,iBAAW;AACd,qBAAK,MAAL;AACH,aAHE;AAIH,iBAAK;AAJF,SAAP;AAMH,KAdU;AAeX,kCAA8B,iCAAU,GAAV,EAAe;AACzC,gBAAQ,GAAR,CAAY,WAAZ,EAAyB,GAAzB;AACH,KAjBU;AAkBX,gCAA4B,gCAAW,GAAX,EAAiB;;;;AAI3C,YAAI,kBAAkB,IAAI,KAAJ,CAAU,eAAhC;AAAA,YACI,UAAU,IAAI,KAAJ,CAAU,OADxB;;AAGA,eAAO;AACH,iBAAK,IAAI,KAAJ,CAAU,OADZ;AAEH,qBAAS,CAAC,gBAAgB,CAAhB,MAAuB,GAAvB,GAA6B,CAAC,QAAQ,gBAAgB,KAAhB,CAAsB,CAAtB,CAAR,GAA9B,GAAoE,QAAQ,eAAR,GAArE,KAAoG,IAAI,KAAJ,CAAU,OAAV,EAF1G;AAGH,sBAAU,oBAAY;AAClB,oBAAI,KAAJ,CAAU,OAAV,CAAkB,QAAlB,IAA8B,IAAI,KAAJ,CAAU,OAAV,CAAkB,QAAlB,CAA2B,YAAzD,IAAyE,IAAI,KAAJ,CAAU,OAAV,CAAkB,QAAlB,CAA2B,YAA3B,CAAwC,KAAxC,CAAzE;AACH;AALE,SAAP;AAOD,KAhCU;AAiCX,2BAAuB,2BAAW,GAAX,EAAiB;AACpC,YAAI,YAAY,IAAI,QAAJ,CAAa,MAAb,CAAoB,UAAS,MAAT,EAAiB;AACjD,mBAAO,OAAO,SAAd;AACH,SAFe,EAEb,CAFa,EAEV,SAFN;AAAA,YAGI,UAAU,KAAK,OAAL,IAAgB,EAH9B;;AAKA,eAAO;AACH,mBAAO,iBAAW;AACd;AACA,qBAAK,MAAL;AACH,aAJE;AAKH,kBAAM,KAAK,IALR;AAMH,iBAAK;AANF,SAAP;AAQH,KA/CU;AAgDX,uBAAmB,wBAAU,GAAV,EAAe;AAC9B,YAAI,UAAU,KAAK,OAAnB;AAAA,YACI,iBAAiB,KAAK,cAD1B;AAAA,YAEI,UAAU,KAAK,OAFnB;AAAA,YAGI,GAHJ;;AAKA,YAAI,kBAAkB,CAAC,OAAvB,EAAgC;AAC5B,oBAAQ,KAAR,CAAc,wEAAd;AACH;;AAED,YAAI,cAAJ,EAAoB;AAChB,kBAAM,SAAS,YAAY;AACvB,uBAAO,OAAO,IAAP,CAAY,cAAZ,EAA4B,MAA5B,CAAmC,UAAU,GAAV,EAAe,SAAf,EAA0B;AAChE,wBAAI,aAAa,SAAS,eAAe,SAAf,CAAT,EAAoC,UAAS,UAAT,EAAqB;AACtE,+BAAO,GAAG,MAAH,CAAU,QAAQ,UAAR,CAAV,CAAP;AACH,qBAFgB,CAAjB;AAGA,wBAAI,UAAJ,EAAgB;AACZ,+BAAO,MAAM,SAAb;AACH;AACD,2BAAO,GAAP;AACH,iBARM,EAQJ,WAAW,EARP,CAAP;AASH,aAVK,EAUH,IAVG,CAAN;AAWH,SAZD,MAYO;AACH,kBAAM,OAAN;AACH;;AAED,eAAO;AACH,iBAAK;AADF,SAAP;AAGH;AA7EU,C","file":"actionBindings.js","sourcesContent":["/*global define */\r\nexport default {\r\n    'action-button': function () {\r\n        var classes = this.buttonClasses || '';\r\n\r\n        if (this.icon) {\r\n            classes += ' fa fa-' + this.icon;\r\n        }\r\n\r\n        return {\r\n            click: function() {\r\n                this.action();\r\n            },\r\n            css: classes\r\n        }\r\n    },\r\n    'action-row-dropdown-button': function (ctx) {\r\n        console.log('context: ', ctx);\r\n    },\r\n    'action-contextvis-button': function ( ctx ) {\r\n      // property to bind visibility to in context.\r\n      // this can be provided with a bang in front and it will parse correctly\r\n      // as the opposite of the context property\r\n      var contextProperty = ctx.$data.contextProperty,\r\n          context = ctx.$data.context;\r\n\r\n      return {\r\n          css: ctx.$data.classes,\r\n          visible: (contextProperty[0] === '!' ? !context[contextProperty.slice(1)]() : context[contextProperty]()) && ctx.$data.isShown(),\r\n          clickOff: function () {\r\n              ctx.$data.options.dropdown && ctx.$data.options.dropdown.showDropdown && ctx.$data.options.dropdown.showDropdown(false);\r\n          }\r\n      }\r\n    },\r\n    'action-popup-action': function ( ctx ) {\r\n        var hidePopup = ctx.$parents.filter(function(parent) {\r\n            return parent.hidePopup\r\n        })[0].hidePopup,\r\n            classes = this.classes || '';\r\n\r\n        return {\r\n            click: function (){\r\n                hidePopup();\r\n                this.action();\r\n            },\r\n            text: this.text,\r\n            css: classes\r\n        }\r\n    },\r\n    'classes-binding': function (ctx) {\r\n        var context = this.context,\r\n            classesBinding = this.classesBinding,\r\n            classes = this.classes,\r\n            css;\r\n\r\n        if (classesBinding && !context) {\r\n            console.error('You cannot define a classes binding expression without passing context');\r\n        }\r\n\r\n        if (classesBinding) {\r\n            css = computed(function () {\r\n                return Object.keys(classesBinding).reduce(function (cls, className) {\r\n                    var applyClass = evaluate(classesBinding[className], function(identifier) {\r\n                        return ko.unwrap(context[identifier]);\r\n                    });\r\n                    if (applyClass) {\r\n                        cls += ' ' + className\r\n                    }\r\n                    return cls;\r\n                }, classes || '');\r\n            }, this);\r\n        } else {\r\n            css = classes;\r\n        }\r\n\r\n        return {\r\n            css: css\r\n        };\r\n    }\r\n}\r\n"]}