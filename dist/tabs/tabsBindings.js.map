{"version":3,"sources":["../../src/tabs/tabsBindings.js"],"names":[],"mappings":";;;;;;AAAA;;AACA;;kBAEmB;AACX,gBAAY,iBAAU,GAAV,EAAe;AACvB,YAAI,OAAJ;AAAA,YAAa,UAAb;AAAA,YAAyB,QAAzB;AAAA,YAAmC,OAAnC;AAAA,YACI,UAAU,sBAAO,KAAK,OAAZ,CADd;;AAGA,kBAAU,KAAK,MAAL,CAAY,OAAZ,IAAuB,KAAK,MAAL,CAAY,OAAZ,CAAoB,OAArD;;AAEA,YAAK,IAAI,MAAJ,KAAa,CAAb,GAAiB,IAAI,OAAJ,CAAY,IAAZ,CAAiB,MAAvC,EAA+C;AAC3C,sBAAU,IAAI,OAAJ,CAAY,IAAZ,CAAiB,IAAI,MAAJ,KAAa,CAA9B,CAAV;AACA,yBAAa,IAAI,OAAJ,CAAY,OAAZ,CAAoB,IAAI,MAAJ,KAAa,CAAjC,CAAb;AACA,uBAAY,WAAW,OAAX,IAAsB,WAAW,OAAX,CAAmB,OAArD;AACH;;AAED,eAAO;AACH,qBAAS,YAAY,CAAC,OAAD,IAAY,KAAK,QAA7B,CADN;AAEH,iBAAK;AACD,oBAAI,KAAK,QADR;AAED,6BAAa,YAAY,QAAQ,QAFhC;AAGD,0BAAU;AAHT,aAFF;AAOH,mBAAO,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,EAA4B,IAA5B;AAPJ,SAAP;AASH,KAtBU;;AAwBX,uBAAmB,wBAAU,GAAV,EAAe;AAC9B,YAAI,OAAJ,EAAa,SAAb;;AAEA,kBAAU,KAAK,MAAL,CAAY,OAAZ,IAAuB,KAAK,MAAL,CAAY,OAAZ,CAAoB,OAArD;AACA,oBAAY,UAAU,IAAI,OAAJ,CAAY,IAAZ,CAAiB,IAAI,MAAJ,KAAa,CAA9B,CAAV,GAA6C,IAAzD;;AAGA,eAAO;AACH,qBAAS,OADN;AAEH,mBAAO,YAAY,UAAU,YAAV,CAAuB,IAAvB,CAA4B,IAA5B,EAAkC,IAAlC,CAAZ,GAAsD,YAAY,CAAE,CAFxE;AAGH,yBAAa;AAHV,SAAP;AAKH;AApCU,C","file":"tabsBindings.js","sourcesContent":["import { is, get } from 'scalejs';\r\nimport { unwrap } from 'knockout';\r\n\r\n    export default {\r\n        'tabs-tab': function (ctx) {\r\n            var nextTab, nextHeader, hasChild, isChild,\r\n                visible = unwrap(this.visible);\r\n\r\n            isChild = this.tabDef.options && this.tabDef.options.isChild;\r\n\r\n            if ( ctx.$index()+1 < ctx.$parent.tabs.length) {\r\n                nextTab = ctx.$parent.tabs[ctx.$index()+1];\r\n                nextHeader = ctx.$parent.headers[ctx.$index()+1];\r\n                hasChild =  nextHeader.options && nextHeader.options.isChild;\r\n            }\r\n\r\n            return {\r\n                visible: visible && (!isChild || this.isActive),\r\n                css: {\r\n                    on: this.isActive,\r\n                    childActive: hasChild && nextTab.isActive,\r\n                    childTab: isChild\r\n                },\r\n                click: this.setActiveTab.bind(null,null)\r\n            };\r\n        },\r\n\r\n        'tabs-closeChild': function (ctx) {\r\n            var isChild, parentTab;\r\n\r\n            isChild = this.tabDef.options && this.tabDef.options.isChild;\r\n            parentTab = isChild ? ctx.$parent.tabs[ctx.$index()-1] : null;\r\n\r\n\r\n            return {\r\n                visible: isChild,\r\n                click: parentTab ? parentTab.setActiveTab.bind(null, null) : function () {},\r\n                clickBubble: false\r\n            };\r\n        }\r\n    };\r\n\r\n"]}