{"version":3,"sources":["../../src/setValue/setValueViewModel.js"],"names":[],"mappings":";;;;;kBAGwB,iB;;AAHxB;;;;;;AAGe,SAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAC5C,QAAI,UAAU,IAAd;;AAEA,QAAI,QAAQ,IAAZ,EAAkB;AACd,gBAAQ,IAAR,CAAa,SAAb,CAAuB,gBAAQ;AAC3B,gBAAI,OAAO,QAAQ,UAAR,EAAX;AACA,mBAAO,IAAP,CAAY,IAAZ,EAAkB,OAAlB,CAA0B,UAAU,IAAV,EAAgB;AACtC,yBAAS,KAAK,IAAL,CAAT,EAAqB,IAArB;AACH,aAFD;AAGH,SALD;AAMH;;AAED,aAAS,QAAT,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B,KAA9B,EAAqC;AACjC,YAAI,KAAK,EAAL,IAAW,KAAK,QAAhB,KAA6B,KAAK,cAAL,CAAoB,KAAK,EAAzB,KAAgC,KAA7D,CAAJ,EAAyE;AACrE,iBAAK,QAAL,CAAc,KAAK,KAAK,EAAV,CAAd,E;AACH;AACD,SAAC,mBAAG,MAAH,CAAU,KAAK,gBAAf,KAAoC,EAArC,EAAyC,OAAzC,CAAiD,UAAU,IAAV,EAAgB;AAC7D,qBAAS,IAAT,EAAe,IAAf,EAAqB,KAArB;AACH,SAFD;AAGH;AACJ","file":"setValueViewModel.js","sourcesContent":["import ko from 'knockout';\r\n\r\n\r\nexport default function setValueViewModel(node) {\r\n    let context = this;\r\n\r\n    if (context.data) {\r\n        context.data.subscribe(data => {\r\n            let dict = context.dictionary();\r\n            Object.keys(dict).forEach(function (node) {\r\n                setValue(dict[node], data);\r\n            })\r\n        })\r\n    }\r\n\r\n    function setValue(node, data, clear) {\r\n        if (node.id && node.setValue && (data.hasOwnProperty(node.id) || clear)) {\r\n            node.setValue(data[node.id]); //pass as object with value key?\r\n        }\r\n        (ko.unwrap(node.mappedChildNodes) || []).forEach(function (node) {\r\n            setValue(node, data, clear);\r\n        });\r\n    }\r\n};\r\n"]}